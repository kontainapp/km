---
apiVersion: v1
kind: Pod
metadata:
  name: dweb
spec:
  containers:
    - name: dweb
      image: kontainkubecr.azurecr.io/demo-runenv-dweb:latest
      imagePullPolicy: Always
      securityContext:
        privileged: false
        allowPrivilegeEscalation: false
      resources:
        requests:
          devices.kubevirt.io/kvm: "1"
          cpu: "250m"
        limits:
          devices.kubevirt.io/kvm: "1"
          cpu: "1"
      command: ["/opt/kontain/bin/km", "/dweb/dweb.km", "8080"]
      volumeMounts:
        - name: kontain-monitor
          mountPath: /opt/kontain
  volumes:
    - name: kontain-monitor
      hostPath:
        path: /opt/kontain
  restartPolicy: Never
